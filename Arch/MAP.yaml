{
  "contracts": [
    {
      "applies_to": [
        "bootstrap.main",
        "runtime.config", 
        "core.raise_af",
        "core.do_af",
        "infra.health",
        "tooling.testing"
      ],
      "enforced_by": [
        "infra.logging"
      ],
      "id": "contract.logging",
      "summary": "All modules must log via centralized logging system with correlation IDs"
    },
    {
      "applies_to": [
        "core.raise_af",
        "core.do_af"
      ],
      "enforced_by": [
        "core.quarantine"
      ],
      "id": "contract.error_isolation",
      "summary": "Error handling must isolate failures and prevent system-wide corruption"
    },
    {
      "applies_to": [
        "bootstrap.main",
        "runtime.config",
        "runtime.state",
        "core.raise_af",
        "core.do_af"
      ],
      "enforced_by": [
        "tooling.testing",
        "infra.health"
      ],
      "id": "contract.quality_gates",
      "summary": "All components must pass quality gates and maintain architecture compliance"
    }
  ],
  "domains": [
    {
      "id": "runtime",
      "summary": "Bootstrap, configuration, state management, lifecycle"
    },
    {
      "id": "infra", 
      "summary": "Logging, health monitoring, observability"
    },
    {
      "id": "core",
      "summary": "Error handling, ticket management, automated remediation"
    },
    {
      "id": "tooling",
      "summary": "Testing, quality assurance, architecture validation"
    }
  ],
  "meta": {
    "freshness_days": 7,
    "generated_at": "2025-01-10T06:44:00.000000+00:00",
    "generator": "manual",
    "generator_version": "1.0.0",
    "notes": [
      "Single source of truth for actifix architecture contexts",
      "Keep aligned with quality gates and architecture compliance"
    ],
    "source_commit": "current_development"
  },
  "modules": [
    {
      "contracts": [
        "ensures environment setup",
        "launches core services in correct order"
      ],
      "depends_on": [
        "runtime.config",
        "infra.logging", 
        "infra.health"
      ],
      "domain": "runtime",
      "entrypoints": [
        "src/actifix/main.py",
        "src/actifix/bootstrap.py"
      ],
      "id": "bootstrap.main",
      "owner": "runtime",
      "summary": "Main entrypoint orchestrating system initialization and process management"
    },
    {
      "contracts": [
        "centralize configuration",
        "validate environment state",
        "fail fast on invalid config"
      ],
      "depends_on": [
        "infra.logging"
      ],
      "domain": "runtime",
      "entrypoints": [
        "src/actifix/config.py"
      ],
      "id": "runtime.config",
      "owner": "runtime", 
      "summary": "Configuration management and environment normalization"
    },
    {
      "contracts": [
        "atomic state operations",
        "recoverable state management"
      ],
      "depends_on": [
        "infra.logging"
      ],
      "domain": "runtime",
      "entrypoints": [
        "src/actifix/state_paths.py"
      ],
      "id": "runtime.state",
      "owner": "runtime",
      "summary": "State management and persistence paths"
    },
    {
      "contracts": [
        "single logging sink",
        "structured error logging",
        "correlation IDs"
      ],
      "depends_on": [],
      "domain": "infra",
      "entrypoints": [
        "src/actifix/log_utils.py"
      ],
      "id": "infra.logging",
      "owner": "infra",
      "summary": "Centralized logging system with correlation tracking"
    },
    {
      "contracts": [
        "detect degraded states",
        "surface system health",
        "continuous monitoring"
      ],
      "depends_on": [
        "infra.logging"
      ],
      "domain": "infra",
      "entrypoints": [
        "src/actifix/health.py"
      ],
      "id": "infra.health",
      "owner": "infra",
      "summary": "Health monitoring and system status tracking"
    },
    {
      "contracts": [
        "capture all errors",
        "create structured tickets", 
        "prevent duplication"
      ],
      "depends_on": [
        "infra.logging",
        "core.quarantine"
      ],
      "domain": "core",
      "entrypoints": [
        "src/actifix/raise_af.py"
      ],
      "id": "core.raise_af",
      "owner": "core",
      "summary": "Error capture and ticket creation system"
    },
    {
      "contracts": [
        "process tickets systematically",
        "integrate with AI systems",
        "validate fixes"
      ],
      "depends_on": [
        "infra.logging",
        "core.raise_af"
      ],
      "domain": "core",
      "entrypoints": [
        "src/actifix/do_af.py"
      ],
      "id": "core.do_af",
      "owner": "core",
      "summary": "Ticket processing and automated remediation"
    },
    {
      "contracts": [
        "isolate corrupted state",
        "prevent system-wide failures"
      ],
      "depends_on": [
        "infra.logging",
        "runtime.state"
      ],
      "domain": "core",
      "entrypoints": [
        "src/actifix/quarantine.py"
      ],
      "id": "core.quarantine",
      "owner": "core",
      "summary": "Error isolation and safe failure handling"
    },
    {
      "contracts": [
        "enforce quality gates",
        "maintain test coverage", 
        "validate architecture"
      ],
      "depends_on": [
        "bootstrap.main",
        "infra.logging"
      ],
      "domain": "tooling",
      "entrypoints": [
        "src/actifix/testing.py",
        "test/test_actifix.py"
      ],
      "id": "tooling.testing",
      "owner": "tooling",
      "summary": "Quality assurance and testing framework"
    }
  ],
  "schema_version": "arch-map.v1"
}
