schema_version: arch-map.v1
meta:
  generated_at: '2026-01-29T00:46:23.931958+00:00'
  generator: update_architecture_docs.py
  generator_version: 2.0.0
  source_commit: current_development
  freshness_days: 7
  notes:
  - Single source of truth for actifix architecture contexts
  - Keep aligned with quality gates and architecture compliance
  - Auto-generated - includes persistence and testing subsystems
  - Run record-error simple ticket attack to generate 500 tickets
  - Synced persistence/core/module entrypoints with current Python layout (base/config/dev_assistant/pokertool
    core/etc.)
domains:
- id: runtime
  summary: Bootstrap, configuration, state management, lifecycle
- id: infra
  summary: Logging, health monitoring, persistence, observability
- id: core
  summary: Error handling, ticket management, automated remediation
- id: security
  summary: Authentication, authorization, rate limiting, secrets management
- id: tooling
  summary: Testing, quality assurance, architecture validation
- id: plugins
  summary: Plugin discovery, validation, and lifecycle orchestration
- id: modules
  summary: User-facing modules and local experiences
modules:
- id: bootstrap.main
  domain: runtime
  owner: runtime
  summary: Main entrypoint orchestrating system initialization and process management
  entrypoints:
  - src/actifix/main.py
  - src/actifix/bootstrap.py
  - src/actifix/thread_cleanup.py
  contracts:
  - ensures environment setup
  - launches core services in correct order
  depends_on:
  - runtime.config
  - infra.logging
  - infra.health
  - infra.persistence.database
- id: runtime.api
  domain: runtime
  owner: runtime
  summary: Public API surface and package exports (incl. /api/ideas for GUI Ideas
    pane)
  entrypoints:
  - src/actifix/__init__.py
  - src/actifix/api.py
  contracts:
  - expose stable API incl. /api/ideas (idea ' AI ticket)
  - centralize package exports
  depends_on:
  - core.raise_af
  - core.ai_client
  - core.ai_context
  - bootstrap.main
  - runtime.state
  - infra.health
  - modules.registry
- id: runtime.config
  domain: runtime
  owner: runtime
  summary: Configuration management and environment normalization
  entrypoints:
  - src/actifix/config.py
  contracts:
  - centralize configuration
  - validate environment state
  - fail fast on invalid config
  depends_on:
  - infra.logging
- id: runtime.cli_framework
  domain: runtime
  owner: runtime
  summary: Unified CLI framework for guided commands and interactive workflows
  entrypoints:
  - src/actifix/cli_framework.py
  contracts:
  - provide reusable CLI components (prompts, output, workflows)
  - support guided interactive commands
  - enable structured terminal output with colors and tables
  - consolidate 30+ CLI command variants into single framework
  depends_on:
  - infra.logging
- id: runtime.bootstrap_phases
  domain: runtime
  owner: runtime
  summary: Phase lifecycle registry with dependency tracking and cascading rollback
  entrypoints:
  - src/actifix/bootstrap_phases.py
  contracts:
  - explicit phase definitions with dependencies and timeouts
  - topological sort for execution order
  - structured event emission for phase start/end/failure
  - cascading rollback in reverse dependency order
  - correlation ID tracking for observability
  - consolidate 27 phase definition tickets into unified system
  depends_on:
  - infra.logging
  - core.raise_af
  - infra.health
- id: runtime.state
  domain: runtime
  owner: runtime
  summary: State management and persistence paths
  entrypoints:
  - src/actifix/state_paths.py
  contracts:
  - atomic state operations
  - recoverable state management
  depends_on:
  - infra.logging
- id: runtime.dock_icon
  domain: runtime
  owner: runtime
  summary: macOS dock icon helper utilities
  entrypoints:
  - src/actifix/dock_icon.py
  contracts:
  - safe no-op on non-macOS
  - avoid side effects on import
  depends_on: []
- id: infra.logging
  domain: infra
  owner: infra
  summary: Centralized logging system with correlation tracking
  entrypoints:
  - src/actifix/log_utils.py
  contracts:
  - single logging sink
  - structured error logging
  - correlation IDs
  depends_on: []
- id: infra.health
  domain: infra
  owner: infra
  summary: Health monitoring and system status tracking
  entrypoints:
  - src/actifix/health.py
  contracts:
  - detect degraded states
  - surface system health
  - continuous monitoring
  depends_on:
  - infra.logging
- id: infra.persistence.atomic
  domain: infra
  owner: persistence
  summary: Atomic file operations for durability and safety
  entrypoints:
  - src/actifix/persistence/atomic.py
  contracts:
  - atomic writes
  - append with size limits
  - idempotent operations
  depends_on:
  - infra.logging
- id: infra.persistence.api
  domain: infra
  owner: persistence
  summary: Persistence package public API and exports
  entrypoints:
  - src/actifix/persistence/__init__.py
  contracts:
  - re-export persistence interfaces
  - keep API stable
  depends_on:
  - infra.persistence.atomic
  - infra.persistence.storage
  - infra.persistence.queue
  - infra.persistence.manager
  - infra.persistence.health
  - infra.persistence.paths
- id: infra.persistence.storage
  domain: infra
  owner: persistence
  summary: Storage backend abstraction (file, memory, JSON)
  entrypoints:
  - src/actifix/persistence/storage.py
  contracts:
  - pluggable storage backends
  - consistent interface
  - error handling
  depends_on:
  - infra.logging
  - infra.persistence.atomic
- id: infra.persistence.queue
  domain: infra
  owner: persistence
  summary: Persistence queue for asynchronous operations
  entrypoints:
  - src/actifix/persistence/queue.py
  contracts:
  - durable operation queue
  - replay capability
  - entry pruning
  depends_on:
  - infra.logging
  - infra.persistence.storage
- id: infra.persistence.manager
  domain: infra
  owner: persistence
  summary: High-level persistence management with transactions
  entrypoints:
  - src/actifix/persistence/manager.py
  contracts:
  - transactional operations
  - document management
  - queue integration
  depends_on:
  - infra.logging
  - infra.persistence.storage
  - infra.persistence.queue
- id: infra.persistence.health
  domain: infra
  owner: persistence
  summary: Storage health checks and corruption detection
  entrypoints:
  - src/actifix/persistence/health.py
  contracts:
  - storage validation
  - integrity verification
  - corruption detection
  depends_on:
  - infra.logging
  - infra.persistence.storage
- id: infra.persistence.paths
  domain: infra
  owner: persistence
  summary: Storage path configuration and management
  entrypoints:
  - src/actifix/persistence/paths.py
  contracts:
  - centralized path configuration
  - directory helpers
  depends_on:
  - infra.logging
- id: infra.persistence.cleanup_config
  domain: infra
  owner: persistence
  summary: Cleanup configuration for ticket retention policies
  entrypoints:
  - src/actifix/persistence/cleanup_config.py
  contracts:
  - centralize cleanup settings
  - environment-driven defaults
  depends_on: []
- id: infra.persistence.ticket_cleanup
  domain: infra
  owner: persistence
  summary: Ticket cleanup and retention policy execution
  entrypoints:
  - src/actifix/persistence/ticket_cleanup.py
  contracts:
  - retention policy enforcement
  - auto-cleanup test tickets
  depends_on:
  - infra.persistence.ticket_repo
- id: infra.persistence.event_repo
  domain: infra
  owner: persistence
  summary: Lightweight event repository for diagnostics and testing helpers
  entrypoints:
  - src/actifix/persistence/event_repo.py
  contracts:
  - store simple events for instrumentation
  - provide resettable hooks for tests
  depends_on: []
- id: infra.persistence.agent_voice_repo
  domain: infra
  owner: persistence
  summary: AgentVoice persistence (append-only rows with pruning for review)
  entrypoints:
  - src/actifix/persistence/agent_voice_repo.py
  contracts:
  - record agent activity rows
  - enforce max row retention (prune oldest)
  depends_on:
  - infra.persistence.database
- id: infra.persistence.database
  domain: infra
  owner: persistence
  summary: SQLite database backend with connection pooling and schema management
  entrypoints:
  - src/actifix/persistence/database.py
  contracts:
  - thread-safe connection pooling
  - automatic schema migrations
  - WAL mode for concurrency
  depends_on:
  - infra.logging
- id: infra.persistence.sqlite_robustness
  domain: infra
  owner: persistence
  summary: SQLite robustness manager with WAL safety, corruption detection, and backup/restore
  entrypoints:
  - src/actifix/persistence/sqlite_robustness.py
  contracts:
  - enforce safety PRAGMAs (WAL, synchronous modes)
  - detect corruption and quarantine corrupted databases
  - backup/restore with checkpointing and verification
  - periodic maintenance (checkpoint, VACUUM)
  - lock storm detection and recovery
  - consolidate 30 SQLite robustness tickets into single framework
  depends_on:
  - infra.logging
  - core.raise_af
  - infra.health
- id: infra.persistence.ticket_repo
  domain: infra
  owner: persistence
  summary: Ticket repository with CRUD operations and locking
  entrypoints:
  - src/actifix/persistence/ticket_repo.py
  contracts:
  - database CRUD for tickets
  - lease-based locking
  - duplicate prevention
  depends_on:
  - infra.logging
  - infra.persistence.database
  - core.raise_af
- id: infra.metrics
  domain: infra
  owner: infra
  summary: Prometheus-compatible metrics export covering tickets, health, and storage
    status
  entrypoints:
  - src/actifix/metrics.py
  contracts:
  - expose ticket/priority counts and completion stats via Prometheus exposition format
  - surface health/storage gauges and generation timestamps
  - emit log events when metrics collection fails
  depends_on:
  - infra.logging
  - runtime.state
  - infra.persistence.ticket_repo
  - infra.health
- id: core.raise_af
  domain: core
  owner: core
  summary: Error capture and ticket creation system (persists entries into the SQLite
    ticket repository)
  entrypoints:
  - src/actifix/raise_af.py
  contracts:
  - capture all errors
  - create structured tickets persisted in `data/actifix.db`
  - prevent duplication
  depends_on:
  - infra.logging
  - core.quarantine
  - infra.persistence.ticket_repo
  - security.ticket_throttler
  - core.webhooks
- id: core.agent_voice
  domain: core
  owner: core
  summary: Agent voice logging wrapper (records reviewable agent activity rows into
    SQLite)
  entrypoints:
  - src/actifix/agent_voice.py
  contracts:
  - capture agent activity rows during runs
  - record failures via raise_af
  depends_on:
  - core.raise_af
  - infra.persistence.agent_voice_repo
- id: core.webhooks
  domain: core
  owner: core
  summary: Webhook integration for ticket creation and completion events
  entrypoints:
  - src/actifix/webhooks.py
  contracts:
  - send HTTP POST notifications for ticket events
  - support multiple webhook URLs with retry logic
  - sanitize ticket data for external transmission
  depends_on:
  - infra.logging
  - runtime.config
- id: core.completion_hooks
  domain: core
  owner: core
  summary: Completion hooks for running custom scripts after ticket completion
  entrypoints:
  - src/actifix/completion_hooks.py
  contracts:
  - execute user-defined scripts in safe mode with timeout
  - pass ticket data via environment variables
  - log execution results via centralized logging
  depends_on:
  - infra.logging
  - runtime.config
- id: core.diagnostics
  domain: core
  owner: core
  summary: Diagnostics bundle export for support and troubleshooting
  entrypoints:
  - src/actifix/diagnostics.py
  contracts:
  - collect system state, tickets, logs, and configuration
  - sanitize sensitive data before export
  - export as compressed ZIP bundle
  depends_on:
  - infra.logging
  - runtime.config
  - runtime.state
  - core.do_af
  - infra.health
- id: core.ingestion
  domain: core
  owner: core
  summary: Sentry-style error ingestion endpoint for external error reporting
  entrypoints:
  - src/actifix/ingestion.py
  contracts:
  - accept Sentry event format via HTTP POST
  - parse and map to Actifix tickets
  - maintain compatibility with Sentry SDK
  depends_on:
  - core.raise_af
  - infra.logging
- id: core.do_af
  domain: core
  owner: core
  summary: Ticket processing and automated remediation
  entrypoints:
  - src/actifix/do_af.py
  contracts:
  - process tickets systematically
  - integrate with AI systems
  - validate fixes
  depends_on:
  - infra.logging
  - core.raise_af
  - core.ai_client
  - infra.persistence.ticket_repo
  - core.webhooks
  - core.completion_hooks
- id: core.quarantine
  domain: core
  owner: core
  summary: Error isolation and safe failure handling
  entrypoints:
  - src/actifix/quarantine.py
  contracts:
  - isolate corrupted state
  - prevent system-wide failures
  depends_on:
  - infra.logging
  - runtime.state
- id: tooling.testing.system
  domain: tooling
  owner: testing
  summary: System-level test framework and test builder
  entrypoints:
  - src/actifix/testing/system.py
  contracts:
  - build system tests
  - validate dependencies
  - enforce architecture
  depends_on:
  - infra.logging
  - runtime.state
- id: tooling.testing.reporting
  domain: tooling
  owner: testing
  summary: Test cycle reporting and progress tracking
  entrypoints:
  - src/actifix/testing/reporting.py
  contracts:
  - test inventory
  - numbered progress
  - cycle logs
  depends_on:
  - infra.logging
  - tooling.testing.system
- id: tooling.testing
  domain: tooling
  owner: tooling
  summary: Quality assurance and testing framework
  entrypoints:
  - src/actifix/testing/__init__.py
  - test/test_runner.py
  contracts:
  - enforce quality gates
  - maintain test coverage
  - accelerate coverage cycles by enabling parallel pytest-xdist runs when available
  - validate architecture
  depends_on:
  - bootstrap.main
  - infra.logging
  - core.raise_af
  - tooling.testing.system
  - tooling.testing.reporting
- id: tooling.simple_ticket_attack
  domain: tooling
  owner: tooling
  summary: Batch creation of lightweight tickets through the Actifix pipeline
  entrypoints:
  - src/actifix/simple_ticket_attack.py
  contracts:
  - generate sequences of simple tickets with record_error
  - keep `data/actifix.db` untouched by manual edits (use the API instead)
  - reuse the core ticketing flow for experiments
  depends_on:
  - core.raise_af
  - runtime.state
- id: tooling.bounce
  domain: tooling
  owner: tooling
  summary: Script to stop and restart Actifix processes
  entrypoints:
  - scripts/bounce.py
  contracts:
  - stop existing frontend and API processes
  - relaunch application via scripts/start.py with Raise_AF gate
  depends_on:
  - bootstrap.main
- id: tooling.architecture_validator
  domain: tooling
  owner: tooling
  summary: Architecture validator ensuring MAP.yaml matches code imports
  entrypoints:
  - src/actifix/validators/__init__.py
  - src/actifix/validators/architecture_validator.py
  contracts:
  - validate MAP.yaml structure and completeness
  - verify all entrypoints exist in codebase
  - ensure all Python files are documented
  - check dependency graph consistency
  depends_on:
  - infra.logging
- id: core.ai_client
  domain: core
  owner: core
  summary: Multi-provider AI integration with automatic fallback chain
  entrypoints:
  - src/actifix/ai_client.py
  contracts:
  - Claude Code local auth detection
  - Claude API integration
  - OpenAI GPT-4 Turbo integration
  - Ollama local model support
  - Free alternative user prompts
  - Automatic provider fallback
  - Cost tracking and logging
  depends_on:
  - runtime.config
  - infra.logging
  - runtime.state
  - security.credentials
- id: core.ai_context
  domain: core
  owner: core
  summary: Long-lived AI context subsystem (Letta memory + SQLite-VSS vector store)
  entrypoints:
  - src/actifix/ai_context/__init__.py
  - src/actifix/ai_context/manager.py
  - src/actifix/ai_context/models.py
  - src/actifix/ai_context/memory_store.py
  - src/actifix/ai_context/vector_store.py
  - src/actifix/ai_context/letta_store.py
  - src/actifix/ai_context/sqlite_vss_store.py
  contracts:
  - provide pluggable memory + vector store interfaces
  - auto-init storage paths and report degraded states
  - record errors via Raise_AF and AgentVoice
  depends_on:
  - runtime.config
  - runtime.state
  - infra.logging
  - core.raise_af
- id: core.error_taxonomy
  domain: core
  owner: core
  summary: Enhanced error classification and taxonomy system
  entrypoints:
  - src/actifix/error_taxonomy.py
  contracts:
  - sophisticated error pattern matching
  - priority classification based on error characteristics
  - remediation hints generation
  - extensible pattern system
  depends_on:
  - core.raise_af
- id: core.recovery
  domain: core
  owner: core
  summary: State recovery and transaction rollback mechanisms
  entrypoints:
  - src/actifix/recovery.py
  contracts:
  - recover from incomplete operations
  - rollback failed transactions
  - maintain consistent state
  depends_on:
  - infra.logging
  - infra.persistence.manager
- id: core.self_repair
  domain: core
  owner: core
  summary: Discoverable self-repair blueprints and verification workflows
  entrypoints:
  - src/actifix/self_repair.py
  contracts:
  - document automated repair blueprints
  - log verification hints via log_utils events
  depends_on:
  - infra.logging
- id: security.api
  domain: security
  owner: security
  summary: Security module public API and exports
  entrypoints:
  - src/actifix/security/__init__.py
  contracts:
  - re-export security interfaces
  - centralize security exports
  depends_on:
  - security.auth
  - security.credentials
  - security.rate_limiter
  - security.secrets_scanner
- id: security.auth
  domain: security
  owner: security
  summary: Authentication and authorization implementation
  entrypoints:
  - src/actifix/security/auth.py
  contracts:
  - JWT token validation
  - RBAC enforcement
  - session management
  depends_on:
  - infra.logging
  - security.credentials
- id: security.credentials
  domain: security
  owner: security
  summary: Credential management and password hashing
  entrypoints:
  - src/actifix/security/credentials.py
  contracts:
  - PBKDF2 password hashing
  - credential storage and retrieval
  - secure comparison functions
  depends_on:
  - infra.logging
- id: security.rate_limiter
  domain: security
  owner: security
  summary: Token bucket rate limiting per minute/hour/day
  entrypoints:
  - src/actifix/security/rate_limiter.py
  contracts:
  - enforce per-minute limits
  - enforce per-hour limits
  - enforce per-day limits
  - track request metrics
  depends_on:
  - infra.logging
  - runtime.config
- id: security.secrets_scanner
  domain: security
  owner: security
  summary: Secrets and sensitive data detection
  entrypoints:
  - src/actifix/security/secrets_scanner.py
  contracts:
  - detect API keys in logs
  - detect credentials in output
  - sanitize sensitive data
  depends_on:
  - infra.logging
- id: security.ticket_throttler
  domain: security
  owner: security
  summary: Ticket flood protection with priority-aware throttling and emergency braking
  entrypoints:
  - src/actifix/security/ticket_throttler.py
  contracts:
  - enforce per-priority ticket rate limits for P2/P3/P4
  - activate an emergency brake when floods exceed configured thresholds
  - persist throttle history for durability and observability
  depends_on:
  - runtime.state
  - core.raise_af
- id: plugins.permissions
  domain: plugins
  owner: plugins
  summary: Plugin permission and capability management
  entrypoints:
  - src/actifix/plugins/permissions.py
  contracts:
  - define plugin permissions
  - enforce capability-based security
  - validate plugin access
  depends_on:
  - plugins.protocol
  - security.auth
- id: plugins.protocol
  domain: plugins
  owner: plugins
  summary: Standard metadata and health contracts for plugins
  entrypoints:
  - src/actifix/plugins/protocol.py
  contracts:
  - define plugin metadata and health contracts
  depends_on: []
- id: plugins.registry
  domain: plugins
  owner: plugins
  summary: Registry managing plugin lifecycle and observability
  entrypoints:
  - src/actifix/plugins/registry.py
  contracts:
  - enforce one-time registration per plugin name
  - log lifecycle events through centralized logging
  - expose context helpers for temporary plugins
  depends_on:
  - infra.logging
  - plugins.protocol
- id: plugins.validation
  domain: plugins
  owner: plugins
  summary: Metadata validation and capability enforcement
  entrypoints:
  - src/actifix/plugins/validation.py
  contracts:
  - validate plugin metadata schema before registration
  - enforce semantic versioning for plugin releases
  - log and surface validation failures for diagnostics
  depends_on:
  - infra.logging
  - plugins.protocol
- id: plugins.sandbox
  domain: plugins
  owner: plugins
  summary: Plugin sandboxing with isolation, capability control, and timeout enforcement
  entrypoints:
  - src/actifix/plugins/sandbox.py
  contracts:
  - thread pool isolation with timeout enforcement
  - explicit plugin API contract and version negotiation
  - capability flags (database, network, filesystem) with deny-by-default
  - early metadata validation with fast failure
  - contain plugin failures and prevent core crashes
  - report failures via raise_af with structured tickets
  - keep registry state consistent on plugin crashes
  - consolidate 25 plugin sandbox tickets into single framework
  depends_on:
  - core.raise_af
  - core.agent_voice
  - infra.logging
  - plugins.registry
  - plugins.validation
- id: plugins.loader
  domain: plugins
  owner: plugins
  summary: Entry-point discovery, instantiation, and registration
  entrypoints:
  - src/actifix/plugins/loader.py
  contracts:
  - discover plugins through actifix.plugins entry points
  - validate and sandbox every plugin before registration
  - publish load summaries and failure reasons
  depends_on:
  - core.raise_af
  - infra.logging
  - plugins.registry
  - plugins.validation
  - plugins.sandbox
- id: plugins.api
  domain: plugins
  owner: plugins
  summary: Public API exports for plugin authors
  entrypoints:
  - src/actifix/plugins/__init__.py
  contracts:
  - re-export plugin protocol helpers and registry references
  - document activation steps for entry-point based extensions
  depends_on:
  - plugins.protocol
  - plugins.registry
- id: plugins.builtin
  domain: plugins
  owner: plugins
  summary: Self-testing plugin that exercises plugin lifecycle and health
  entrypoints:
  - src/actifix/plugins/builtin.py
  contracts:
  - verify registry sandboxing and health checks
  - provide a built-in example plugin for documentation
  depends_on:
  - plugins.registry
  - plugins.protocol
- id: modules.core
  domain: modules
  owner: modules
  summary: Module execution helpers (env/context, config overrides)
  entrypoints:
  - src/actifix/modules/__init__.py
  contracts:
  - build a sanitized module environment
  - resolve per-module config overrides with safe defaults
  depends_on:
  - runtime.config
  - core.raise_af
- id: modules.registry
  domain: modules
  owner: modules
  summary: Central registry for module lifecycle hooks
  entrypoints:
  - src/actifix/modules/registry.py
  contracts:
  - track module registration and shutdown hooks
  - surface module lifecycle transitions via log events
  depends_on:
  - infra.logging
  - core.raise_af
- id: modules.base
  domain: modules
  owner: modules
  summary: Shared module utilities for logging, config overrides, and error capture
  entrypoints:
  - src/actifix/modules/base.py
  contracts:
  - centralize ModuleBase helpers for logging, health, and error capture
  - expose shared helpers for module config and state access
  depends_on:
  - modules.config
  - infra.logging
  - core.raise_af
  - runtime.state
- id: modules.config
  domain: modules
  owner: modules
  summary: Module configuration helpers and override parsing
  entrypoints:
  - src/actifix/modules/config.py
  contracts:
  - parse ACTIFIX_MODULE_CONFIG_OVERRIDES payloads
  - merge runtime config with module defaults and report parse errors
  depends_on:
  - runtime.config
  - core.raise_af
- id: modules.scaffold
  domain: modules
  owner: modules
  summary: Module scaffolding helpers for CLI workflows
  entrypoints:
  - src/actifix/modules/scaffold.py
  contracts:
  - generate module boilerplate and health tests
  - enforce module naming and location conventions
  depends_on:
  - infra.logging
- id: modules.screenscan
  domain: modules
  owner: modules
  summary: Always-on screen capture with ring-buffer storage for debugging
  entrypoints:
  - src/actifix/modules/screenscan/__init__.py
  contracts:
  - capture screenshots at configurable FPS with ring-buffer ring-buffer storage
  - retain last minute of frames (configurable) with constant row count
  - expose health/stats/frames API endpoints for last-minute UI state
  - support macOS with graceful degradation on Windows/Linux
  - all errors recorded via Raise_AF with AgentVoice support
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
  - infra.persistence.database
- id: modules.superquiz
  domain: modules
  owner: modules
  summary: Multi-player quiz experience served via the dashboard API
  entrypoints:
  - src/actifix/modules/superquiz/__init__.py
  contracts:
  - expose the SuperQuiz GUI at /modules/superquiz on the runtime API server
  - support 1 to 6 players with category selection and random mode
  - use Actifix logging and error capture interfaces from the shared runtime
  - ensure the launcher starts the module via scripts/start.py, including dependency
    checks and a /health probe on the configured host/port
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
  - modules.pokertool.core
- id: modules.yahtzee
  domain: modules
  owner: modules
  summary: Two-player Yahtzee experience served via the dashboard API
  entrypoints:
  - src/actifix/modules/yahtzee/__init__.py
  contracts:
  - expose the two-player Yahtzee GUI at /modules/yahtzee on the runtime API server
  - use Actifix logging and error capture interfaces from the shared runtime
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
- id: modules.pokertool
  domain: modules
  owner: modules
  summary: Planned PokerTool integration exposing analysis, detection, and health
    endpoints
  entrypoints:
  - src/actifix/modules/pokertool/__init__.py
  contracts:
  - provide health and analysis stub endpoints under /modules/pokertool
  - log module lifecycle events using centralized logging and RaiseAF helpers
  - act as the future landing surface for PokerTool real-time analysis and detection
    systems
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
- id: modules.pokertool.core
  domain: modules
  owner: modules
  summary: PokerTool analysis heuristics used by the module GUI and HTTP handlers
  entrypoints:
  - src/actifix/modules/pokertool/core.py
  contracts:
  - evaluate hands and boards for strength and provide structured metadata
  - expose helper routines consumed by the PokerTool blueprint
  depends_on: []
- id: modules.pokertool.detector
  domain: modules
  owner: modules
  summary: Mock detector service that streams table state updates via the Pokertool
    API
  entrypoints:
  - src/actifix/modules/pokertool/detector.py
  contracts:
  - emit sequential mock detection updates and confidence metadata
  - expose start/stop controls and stream readiness for `/api/detect/stream`
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
- id: modules.pokertool.solvers
  domain: modules
  owner: modules
  summary: Solver heuristics for Nash/ICM guidance in the PokerTool port
  entrypoints:
  - src/actifix/modules/pokertool/solvers.py
  contracts:
  - provide Nash-equilibrium and ICM heuristics
  - log solver failures through RaiseAF helpers
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
- id: modules.pokertool.ml
  domain: modules
  owner: modules
  summary: Machine-learning helpers for opponent profiling and active learning
  entrypoints:
  - src/actifix/modules/pokertool/ml.py
  contracts:
  - produce opponent profiles based on historical actions
  - deliver active learning hints for model improvement
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
- id: modules.dev_assistant
  domain: modules
  owner: modules
  summary: Local Ollama-backed coding assistant exposed through /modules/dev_assistant
  entrypoints:
  - src/actifix/modules/dev_assistant/__init__.py
  contracts:
  - provide health and chat routes that proxy prompts to a local Ollama model
  - log module errors through ModuleBase and RaiseAF helpers
  depends_on:
  - modules.base
  - modules.config
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
- id: modules.artclass
  domain: modules
  owner: modules
  summary: Art teaching module with interactive React-based GUI
  entrypoints:
  - src/actifix/modules/artclass/__init__.py
  contracts:
  - expose the ArtClass GUI at /modules/artclass on the runtime API server
  - provide interactive art instruction interface
  - use Actifix logging and error capture interfaces from the shared runtime
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
- id: modules.hollogram
  domain: modules
  owner: modules
  summary: AI-powered medical research assistant with disclaimer, research, and history
    endpoints
  entrypoints:
  - src/actifix/modules/hollogram/__init__.py
  contracts:
  - expose /health, /disclaimer, /topics, /research, /history, and /history/<id> routes
    under /modules/hollogram
  - log lifecycle metadata and errors through ModuleBase helpers and raise_af tickets
  - keep research history in state-backed storage and enforce the local-only access
    rule
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
  - core.ai_client
  - modules.base
  - modules.config
- id: modules.shootymcshoot
  domain: modules
  owner: modules
  summary: ShootyMcShoot React hello world holding page on localhost:8040
  entrypoints:
  - src/actifix/modules/shootymcshoot/__init__.py
  contracts:
  - expose ShootyMcShoot GUI at /modules/shootymcshoot on the runtime API server
  - React-powered holding page with health endpoint
  - uses ModuleBase for logging/error capture
  depends_on:
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
- id: modules.testmanifest
  domain: modules
  owner: modules
  summary: Scaffolded test manifest module produced by the module CLI workflow
  entrypoints:
  - src/actifix/modules/testmanifest/__init__.py
  contracts:
  - expose a lightweight GUI with index/health endpoints for module validation tooling
  - exercise ModuleBase logging, health, and dependency helpers in a safe example
  depends_on:
  - modules.base
  - modules.config
  - runtime.state
  - infra.logging
  - core.raise_af
  - runtime.api
contracts:
- id: contract.logging
  summary: All modules must log via centralized logging system with correlation IDs
  applies_to:
  - bootstrap.main
  - runtime.config
  - core.raise_af
  - core.do_af
  - infra.health
  - infra.persistence.atomic
  - infra.persistence.storage
  - infra.persistence.queue
  - infra.persistence.manager
  - tooling.testing
  - plugins.registry
  - plugins.validation
  - plugins.sandbox
  - plugins.loader
  - plugins.api
  enforced_by:
  - infra.logging
- id: contract.error_isolation
  summary: Error handling must isolate failures and prevent system-wide corruption
  applies_to:
  - core.raise_af
  - core.do_af
  - plugins.sandbox
  enforced_by:
  - core.quarantine
- id: contract.quality_gates
  summary: All components must pass quality gates and maintain architecture compliance
  applies_to:
  - bootstrap.main
  - runtime.config
  - runtime.state
  - core.raise_af
  - core.do_af
  - infra.persistence.manager
  - plugins.loader
  - plugins.validation
  enforced_by:
  - tooling.testing
  - infra.health
- id: contract.durability
  summary: All persistence operations must be atomic and recoverable
  applies_to:
  - infra.persistence.atomic
  - infra.persistence.storage
  - infra.persistence.queue
  - infra.persistence.manager
  enforced_by:
  - infra.persistence.atomic
  - infra.persistence.health
- id: contract.plugin_integrity
  summary: Plugin metadata, lifecycle, and health must always be validated
  applies_to:
  - plugins.protocol
  - plugins.registry
  - plugins.validation
  - plugins.sandbox
  - plugins.loader
  - plugins.api
  - plugins.builtin
  enforced_by:
  - infra.logging
  - tooling.testing
